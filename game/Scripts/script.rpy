# You can place the script of your game in this file.

# Declare images below this line, using the image statement.
# eg. image eileen happy = "eileen_happy.png"

image bg apple barn = "Images/apple_barn.png"
image bg apple family den = "Images/apple_family_den.png"
image bg bushes hill = "Images/bushes_hill.png"
image bg carousel boutique = "Images/carousel_boutique.png"
image bg fluttershy cottage = "Images/fluttershy_cottage.png"
image bg forest = "Images/forest.png"
image bg library = "Images/library.png"
image bg outside ponyville = "Images/outside_ponyville.png"
image bg ponyville road = "Images/ponyville_road.png"
image bg rainbow bedroom = "Images/rainbow_bedroom.png"
image bg sugarcube corner kitchen2 = "Images/sugarcube_corner_kitchen2.png"
image bg sugarcube corner lobby = "Images/sugarcube_corner_lobby.png"
image bg sweet apple acres = "Images/sweet_apple_acres1.png"

image applejack hat angry = "Images/applejack_hat_angry.png"
image applejack hat applemouth = "Images/applejack_hat_applemouth.png"
image applejack hat crying = "Images/applejack_hat_crying.png"
image applejack hat facehoof = "Images/applejack_hat_facehoof.png"
image applejack hat happy = "Images/applejack_hat_happy.png"
image applejack hat meh = "Images/applejack_hat_meh.png"
image applejack hat sad = "Images/applejack_hat_sad.png"
image applejack hat side calling = "Images/applejack_hat_side_calling.png"
image applejack hat side gasp = "Images/applejack_hat_side_gasp.png"
image applejack hat sigh = "Images/applejack_hat_sigh.png"
image applejack hat supersmile = "Images/applejack_hat_supersmile.png"
image applejack hat wtf = "Images/applejack_hat_wtf.png"

image braeburn chillin = "Images/braeburn_chillin.png"
image braeburn happy = "Images/braeburn_happy.png"

image CMC awe = "Images/CMC_awe.png"
image CMC cry = "Images/CMC_cry.png"
image CMC happy = "Images/CMC_happy.png"
image CMC highfive = "Images/CMC_highfive.png"
image CMC zoom cutie = "Images/CMC_zoom_cutie.png"

image colgate zoom happy = "Images/colgate_zoom_happy.png"

image derpy bittersweet = "Images/derpy_bittersweet.png"
image derpy fly hug = "Images/derpy_fly_hug.png"
image derpy happy = "Images/derpy_happy.png"
image derpy sad = "Images/derpy_sad.png"
image derpy superhappy = "Images/derpy_superhappy.png"

image fluttershy fly destiny = "Images/fluttershy_fly_destiny.png"
image fluttershy fly happy = "Images/fluttershy_fly_happy.png"
image fluttershy fly shock = "Images/fluttershy_fly_shock.png"
image fluttershy fly what = "Images/fluttershy_fly_what.png"
image fluttershy fly worried = "Images/fluttershy_fly_worried.png"
image fluttershy shutter = "Images/fluttershy_shutter.png"
image fluttershy side embarassed = "Images/fluttershy_side_embarassed.png"
image fluttershy superhappy = "Images/fluttershy_superhappy.png"
image fluttershy what = "Images/fluttershy_what.png"

image pinkie derp = "Images/pinkie_derp.png"
image pinkie happy = "Images/pinkie_happy.png"
image pinkie laugh = "Images/pinkie_laugh.png"
image pinkie moustache = "Images/pinkie_moustache.png"
image pinkie serious = "Images/pinkie_serious.png"
image pinkie singing = "Images/pinkie_singing.png"
image pinkie sly = "Images/pinkie_sly.png"
image pinkie yell = "Images/pinkie_yell.png"

image rainbow dubious = "Images/rainbow_dubious.png"
image rainbow flattered = "Images/rainbow_flattered.png"
image rainbow fly embarassed = "Images/rainbow_fly_embarassed.png"
image rainbow fly superhappy = "Images/rainbow_fly_superhappy.png"
image rainbow happy = "Images/rainbow_happy.png"
image rainbow hey = "Images/rainbow_hey.png"
image rainbow interested = "Images/rainbow_interested.png"
image rainbow proud = "Images/rainbow_proud.png"
image rainbow unsure = "Images/rainbow_unsure.png"

image rarity flattered = "Images/rarity_flattered.png"
image rarity happy = "Images/rarity_happy.png"
image rarity shocked = "Images/rarity_shocked.png"
image rarity srsly = "Images/rarity_srsly.png"
image rarity superexcited = "Images/rarity_superexcited.png"

image redheart angry = "Images/redheart_angry.png"
image redheart grumpy = "Images/redheart_grumpy.png"
image redheart happy = "Images/redheart_happy.png"

image spike anxious = "Images/spike_anxious.png"
image spike cool = "Images/spike_cool.png"
image spike depressed = "Images/spike_depressed.png"
image spike happy = "Images/spike_happy.png"

image thunderlane happy = "Images/thunderlane_happy.png"

image twilight battle = "Images/twilight_battle.png"
image twilight chuckle = "Images/twilight_chuckle.png"
image twilight happy = "Images/twilight_happy.png"
image twilight ohyou = "Images/twilight_ohyou.png"
image twilight seductive = "Images/twilight_seductive.png"
image twilight showing = "Images/twilight_showing.png"
image twilight sitting confused = "Images/twilight_sitting_confused.png"
image twilight tapdancing = "Images/twilight_tapdancing.png"
image twilight what = "Images/twilight_what.png"

image pinkie faceplant = "Images/pinkie_faceplant.png"
image pinkie alicorn = "Images/pinkie_alicorn.png"
image pinkie mini alicorn = im.FactorScale("Images/pinkie_alicorn.png", 0.5)
image pinkie mini faceplant = im.FactorScale("Images/pinkie_faceplant.png", 0.68)

image caramel truffle = "Images/caramel_truffle.png"
image ginster steed = "Images/ginster_steed.png"

image splash = "Images/splash.png"
image splash1 = "Images/splash1.png"
image splash2 = "Images/splash2.png"

image credit1 = "Images/credit1.png"
image credit2 = "Images/credit2.png"
image credit3 = "Images/credit3.png"
image credit4 = "Images/credit4.png"
image credit5 = "Images/credit5.png"
image credit6 = "Images/credit6.png"
image credit7 = "Images/credit7.png"
image credit8 = "Images/credit8.png"
image credit9 = "Images/credit9.png"
image credit10 = "Images/credit10.png"

# Declare characters used by this game.
define ts = Character("Twilight Sparkle", color="#B689C8", show_two_window ='true')
define pp = Character("Pinkie Pie", color="#F3B6CF", show_two_window ='true')
define fs = Character("Fluttershy", color="#FDF6AF", show_two_window ='true')
define rd = Character("Rainbow Dash", color="#9EDBF9", show_two_window ='true')
define aj = Character("Applejack", color="#FFC261", show_two_window ='true')
define r = Character("Rarity", color="#EBEFF1", show_two_window ='true')

define y = Character("You",kind=r)
define c = Character("Colgate",kind=rd)

define bm = Character("Big Macintosh",kind=aj,color="#FF0003")

define yts = Character("You (Twilight Sparkle)",kind=ts)
define ypp = Character("You (Pinkie Pie)",kind=pp)
define yfs = Character("You (Fluttershy)",kind=fs)
define yrd = Character("You (Rainbow Dash)",kind=rd)
define yaj = Character("You (Applejack)",kind=aj)
define yr = Character("You (Rarity)",kind=r)

define ybm = Character("You (Big Mac)",kind=bm)

define sp = Character("Spike",kind=ts,color="#C590C9")
define d = Character("Derpy Hooves",kind=ts,color="FBFBA5")
define u = Character("???",kind=r)
define cmc = Character("CMC", kind=r)
define s = Character("Scootaloo",kind=aj)
define sb = Character("Sweetie Belle",kind=r)
define ab = Character("Apple Bloom",kind=aj)

define b = Character("Braeburn",kind=aj)
define nr = Character("Nurse Redheart",kind=r)
define t = Character("Thunderlane",kind=ts,color="555555")

# Declare variables

init python:
    # This variable is used in outdoors.rpy
    seenintro = False
    
    # These variables are used to keep track of scenes
    appl1 = False
    appl2 = False
    appl3 = False
    appl4 = False
    appl5 = False
    appl6 = False
    appl7 = False
    appl8 = False
    appl9 = False
    appl10 = False
    appl11 = False
    
    caro1 = False
    caro2 = False
    caro3 = False
    caro4 = False
    caro5 = False
    caro6 = False
    caro7 = False
    caro8 = False
    caro9 = False
    caro10 = False
    caro11 = False
    
    dash1 = False
    dash2 = False
    dash3 = False
    dash4 = False
    dash5 = False
    dash6 = False
    dash7 = False
    dash8 = False
    dash9 = False
    dash10 = False
    dash11 = False
    
    flut1 = False
    flut2 = False
    flut3 = False
    flut4 = False
    flut5 = False
    flut6 = False
    flut7 = False
    flut8 = False
    flut9 = False
    flut10 = False
    flut11 = False
    
    libr1 = False
    libr2 = False
    libr3 = False
    libr4 = False
    libr5 = False
    libr6 = False
    libr7 = False
    libr8 = False
    libr9 = False
    libr10 = False
    libr11 = False
    
    suga1 = False
    suga2 = False
    suga3 = False
    suga4 = False
    suga5 = False
    suga6 = False
    suga7 = False
    suga8 = False
    suga9 = False
    suga10 = False
    suga11 = False
    
    # These will be used to display a certain ending picture
    twiscene = 0
    pinscene = 0
    appscene = 0
    raiscene = 0
    rarscene = 0
    fluscene = 0
    
    # These contains the various objects that ponies give to the player
    p_book = "none"
    p_cake = "none"
    p_flut = "none"
    p_rar = "none"
    p_aj = "none"
    p_rd = "none"
    
    # These are relevant to one-time and easter-egg events
    easter_egg = 0
    alichoice = 0
    playerwant = "love"
    
    # These are useful to know if the player has locked himself in a situation where he is hopeless
    nb_scenes = 0
    nb_lock = 0
    
    def p(what, **kwargs):
        if playername == "Twilight Sparkle":
            yts(what, **kwargs)
            
        if playername == "Pinkie Pie":
            ypp(what, **kwargs)
            
        if playername == "Fluttershy":
            yfs(what, **kwargs)
            
        if playername == "Rainbow Dash":
            yrd(what, **kwargs)
            
        if playername == "Applejack":
            yaj(what, **kwargs)
            
        if playername == "Rarity":
            yr(what, **kwargs)
        
        if playername == "Big Macintosh":
            ybm(what, **kwargs)

# Splashscreen

label splashscreen:
    scene black 
    with Pause(1)
    
  #  play sound "ping.ogg"

    show splash with dissolve
    with Pause(4)
    
    scene black with dissolve
    with Pause(1)
    
    show splash1 with dissolve
    with Pause(5)
    
    scene black with dissolve
    with Pause(1)
    
    show splash2 with dissolve
    with Pause(9000000000001)
    
    scene black with dissolve
    with Pause(1)

    return

# The game starts here.
label start:
    
    scene black
    with fade

    play music "Music/intro.mp3"

    show colgate zoom happy
    with dissolve
    
    y "AAAAAAAAAAAH!! Giant-cartoon-pony-head!!"
    c "I'm Colgate! Welcome to the realm between our worlds!"
    y "Wait, like the Colgate in My Little Pony? Am I dreaming or something?"
    c "Not at all! Trixie just left, I'm going to take care of you!
       You know, about the \"let's change you into a pony and have some special fun with ponyville inhabitants and stuff\"!"
    y "..."
    y "Wrong game."
    c "Hum. So, I will change you into one of the mane 6 instead! And then I will send you in Ponyville and and-"
    y "Please calm down and do your stuff. I will see what happen myself."

label character_selection:
    
    c "Who do you want to be? All have white teeth!"
    menu name_choice:
        "Twilight Sparkle":
            $ playername = "Twilight Sparkle"
            $ playername2 = "Twilight"
            $ playername3 = "Twi\'"
            jump end_name_choice
        "Pinkie Pie":
            $ playername = "Pinkie Pie"
            $ playername2 = "Pinkie"
            $ playername3 = "Pinkeh"
            jump end_name_choice
        "Applejack":
            $ playername = "Applejack"
            $ playername2 = "Applejack"
            $ playername3 = "AJ"
            jump end_name_choice
        "Rainbow Dash":
            $ playername = "Rainbow Dash"
            $ playername2 = "Rainbow"
            $ playername3 = "Dashie"
            jump end_name_choice
        "Rarity":
            $ playername = "Rarity"
            $ playername2 = "Rarity"
            $ playername3 = "Rarity"
            jump end_name_choice
        "Fluttershy":
            $ playername = "Fluttershy"
            $ playername2 = "Fluttershy"
            $ playername3 = "\'Shy"
            jump end_name_choice
        "Wait!! I want to be my OC!! It's a super-awesome alicorn with neon colors and stuff!!!!":
            c "No."
            $ alichoice = alichoice + 1
            jump character_selection

label end_name_choice:
    y "I want to be [playername]."
    c "So, you are [playername] now."
    p "Really?"
    c "Yes! Just look at yourself in the mirror!"
    p "What mirror? It's all black here!"
    c "Whoops, my bad. I will just send you in Ponyville then! See you soon!"
    p "Wait, wha-"
    scene black
    with fade
    stop music fadeout 1.0
    "Poof!"
    p "Hey, who are you? And why is it all black there?"
    "I'm the narrator and you're in a transition between two scenes. Now, let's stop meta-talking."
    jump outdoors
